webpackJsonp([3],{0:function(l,n,e){l.exports=e("aZid")},a327:function(l,n){function e(l){return new Promise(function(n,e){e(new Error("Cannot find module '"+l+"'."))})}e.keys=function(){return[]},e.resolve=e,l.exports=e,e.id="a327"},aZid:function(l,n,e){"use strict";function u(l){return P["\u0275vid"](0,[(l()(),P["\u0275eld"](0,null,null,10,"div",[["role","alert"]],[[8,"className",0]],null,null,null,null)),(l()(),P["\u0275ted"](null,["\n  "])),(l()(),P["\u0275eld"](0,null,null,4,"button",[["aria-label","Close"],["class","close"],["data-dismiss","alert"],["type","button"]],null,null,null,null,null)),(l()(),P["\u0275ted"](null,["\n    "])),(l()(),P["\u0275eld"](0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),P["\u0275ted"](null,["\xd7"])),(l()(),P["\u0275ted"](null,["\n  "])),(l()(),P["\u0275ted"](null,["\n  "])),(l()(),P["\u0275eld"](0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),P["\u0275ted"](null,["Message:"])),(l()(),P["\u0275ted"](null,[" ","\n"]))],null,function(l,n){var e=n.component;l(n,0,0,P["\u0275inlineInterpolate"](1,"alert alert-",e.message.type," alert-dismissible")),l(n,10,0,e.message.body)})}function t(l){return P["\u0275vid"](0,[(l()(),P["\u0275and"](16777216,null,null,1,null,u)),P["\u0275did"](16384,null,0,L.i,[P.ViewContainerRef,P.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,1,0,n.component.message.body)},null)}function o(l){return P["\u0275vid"](0,[(l()(),P["\u0275eld"](0,null,null,1,"app-toast",[],null,null,null,t,S)),P["\u0275did"](49152,null,0,w,[],null,null)],null,null)}function r(l){return U["\u0275vid"](0,[(l()(),U["\u0275eld"](0,null,null,1,"app-toast",[],null,null,null,t,S)),U["\u0275did"](49152,null,0,w,[],{message:[0,"message"]},null),(l()(),U["\u0275ted"](null,["\n\n"])),(l()(),U["\u0275eld"](0,null,null,89,"div",[["class","card"]],null,null,null,null,null)),(l()(),U["\u0275ted"](null,["\n  "])),(l()(),U["\u0275eld"](0,null,null,1,"h4",[["class","card-header"]],null,null,null,null,null)),(l()(),U["\u0275ted"](null,["Register"])),(l()(),U["\u0275ted"](null,["\n  "])),(l()(),U["\u0275eld"](0,null,null,83,"div",[["class","card-block"]],null,null,null,null,null)),(l()(),U["\u0275ted"](null,["\n    "])),(l()(),U["\u0275eld"](0,null,null,80,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(l,n,e){var u=!0,t=l.component;if("submit"===n){u=!1!==U["\u0275nov"](l,12).onSubmit(e)&&u}if("reset"===n){u=!1!==U["\u0275nov"](l,12).onReset()&&u}if("ngSubmit"===n){u=!1!==t.register()&&u}return u},null,null)),U["\u0275did"](16384,null,0,_.r,[],null,null),U["\u0275did"](540672,null,0,_.g,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),U["\u0275prd"](2048,null,_.b,null,[_.g]),U["\u0275did"](16384,null,0,_.l,[_.b],null,null),(l()(),U["\u0275ted"](null,["\n      "])),(l()(),U["\u0275eld"](0,null,null,12,"div",[["class","input-group"]],null,null,null,null,null)),U["\u0275did"](278528,null,0,j.h,[U.IterableDiffers,U.KeyValueDiffers,U.ElementRef,U.Renderer],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),U["\u0275ted"](null,["\n        "])),(l()(),U["\u0275eld"](0,null,null,1,"span",[["class","input-group-addon"]],null,null,null,null,null)),(l()(),U["\u0275eld"](0,null,null,0,"i",[["class","glyphicon glyphicon-user"]],null,null,null,null,null)),(l()(),U["\u0275ted"](null,["\n        "])),(l()(),U["\u0275eld"](0,null,null,5,"input",[["autofocus",""],["class","form-control"],["formControlName","username"],["name","username"],["placeholder","Username"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0;if("input"===n){u=!1!==U["\u0275nov"](l,23)._handleInput(e.target.value)&&u}if("blur"===n){u=!1!==U["\u0275nov"](l,23).onTouched()&&u}if("compositionstart"===n){u=!1!==U["\u0275nov"](l,23)._compositionStart()&&u}if("compositionend"===n){u=!1!==U["\u0275nov"](l,23)._compositionEnd(e.target.value)&&u}return u},null,null)),U["\u0275did"](16384,null,0,_.c,[U.Renderer2,U.ElementRef,[2,_.a]],null,null),U["\u0275prd"](1024,null,_.i,function(l){return[l]},[_.c]),U["\u0275did"](671744,null,0,_.f,[[3,_.b],[8,null],[8,null],[2,_.i]],{name:[0,"name"]},null),U["\u0275prd"](2048,null,_.j,null,[_.f]),U["\u0275did"](16384,null,0,_.k,[_.j],null,null),(l()(),U["\u0275ted"](null,["\n      "])),(l()(),U["\u0275ted"](null,["\n      "])),(l()(),U["\u0275eld"](0,null,null,12,"div",[["class","input-group"]],null,null,null,null,null)),U["\u0275did"](278528,null,0,j.h,[U.IterableDiffers,U.KeyValueDiffers,U.ElementRef,U.Renderer],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),U["\u0275ted"](null,["\n        "])),(l()(),U["\u0275eld"](0,null,null,1,"span",[["class","input-group-addon"]],null,null,null,null,null)),(l()(),U["\u0275eld"](0,null,null,0,"i",[["class","glyphicon glyphicon-envelope"]],null,null,null,null,null)),(l()(),U["\u0275ted"](null,["\n        "])),(l()(),U["\u0275eld"](0,null,null,5,"input",[["class","form-control"],["formControlName","email"],["name","email"],["placeholder","Email"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0;if("input"===n){u=!1!==U["\u0275nov"](l,37)._handleInput(e.target.value)&&u}if("blur"===n){u=!1!==U["\u0275nov"](l,37).onTouched()&&u}if("compositionstart"===n){u=!1!==U["\u0275nov"](l,37)._compositionStart()&&u}if("compositionend"===n){u=!1!==U["\u0275nov"](l,37)._compositionEnd(e.target.value)&&u}return u},null,null)),U["\u0275did"](16384,null,0,_.c,[U.Renderer2,U.ElementRef,[2,_.a]],null,null),U["\u0275prd"](1024,null,_.i,function(l){return[l]},[_.c]),U["\u0275did"](671744,null,0,_.f,[[3,_.b],[8,null],[8,null],[2,_.i]],{name:[0,"name"]},null),U["\u0275prd"](2048,null,_.j,null,[_.f]),U["\u0275did"](16384,null,0,_.k,[_.j],null,null),(l()(),U["\u0275ted"](null,["\n      "])),(l()(),U["\u0275ted"](null,["\n      "])),(l()(),U["\u0275eld"](0,null,null,12,"div",[["class","input-group"]],null,null,null,null,null)),U["\u0275did"](278528,null,0,j.h,[U.IterableDiffers,U.KeyValueDiffers,U.ElementRef,U.Renderer],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),U["\u0275ted"](null,["\n        "])),(l()(),U["\u0275eld"](0,null,null,1,"span",[["class","input-group-addon"]],null,null,null,null,null)),(l()(),U["\u0275eld"](0,null,null,0,"i",[["class","glyphicon glyphicon-lock"]],null,null,null,null,null)),(l()(),U["\u0275ted"](null,["\n        "])),(l()(),U["\u0275eld"](0,null,null,5,"input",[["class","form-control"],["formControlName","password"],["name","password"],["placeholder","Password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var u=!0;if("input"===n){u=!1!==U["\u0275nov"](l,51)._handleInput(e.target.value)&&u}if("blur"===n){u=!1!==U["\u0275nov"](l,51).onTouched()&&u}if("compositionstart"===n){u=!1!==U["\u0275nov"](l,51)._compositionStart()&&u}if("compositionend"===n){u=!1!==U["\u0275nov"](l,51)._compositionEnd(e.target.value)&&u}return u},null,null)),U["\u0275did"](16384,null,0,_.c,[U.Renderer2,U.ElementRef,[2,_.a]],null,null),U["\u0275prd"](1024,null,_.i,function(l){return[l]},[_.c]),U["\u0275did"](671744,null,0,_.f,[[3,_.b],[8,null],[8,null],[2,_.i]],{name:[0,"name"]},null),U["\u0275prd"](2048,null,_.j,null,[_.f]),U["\u0275did"](16384,null,0,_.k,[_.j],null,null),(l()(),U["\u0275ted"](null,["\n      "])),(l()(),U["\u0275ted"](null,["\n      "])),(l()(),U["\u0275eld"](0,null,null,27,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),U["\u0275ted"](null,["\n        "])),(l()(),U["\u0275eld"](0,null,null,1,"span",[["class","input-group-addon"]],null,null,null,null,null)),(l()(),U["\u0275eld"](0,null,null,0,"i",[["class","glyphicon glyphicon-user"]],null,null,null,null,null)),(l()(),U["\u0275ted"](null,["\n        "])),(l()(),U["\u0275eld"](0,null,null,21,"select",[["class","form-control"],["formControlName","role"],["name","role"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(l,n,e){var u=!0;if("change"===n){u=!1!==U["\u0275nov"](l,64).onChange(e.target.value)&&u}if("blur"===n){u=!1!==U["\u0275nov"](l,64).onTouched()&&u}return u},null,null)),U["\u0275did"](16384,null,0,_.o,[U.Renderer2,U.ElementRef],null,null),U["\u0275prd"](1024,null,_.i,function(l){return[l]},[_.o]),U["\u0275did"](671744,null,0,_.f,[[3,_.b],[8,null],[8,null],[2,_.i]],{name:[0,"name"]},null),U["\u0275prd"](2048,null,_.j,null,[_.f]),U["\u0275did"](16384,null,0,_.k,[_.j],null,null),(l()(),U["\u0275ted"](null,["\n          "])),(l()(),U["\u0275eld"](0,null,null,3,"option",[["disabled",""],["selected",""],["value",""]],null,null,null,null,null)),U["\u0275did"](147456,null,0,_.m,[U.ElementRef,U.Renderer2,[2,_.o]],{value:[0,"value"]},null),U["\u0275did"](147456,null,0,_.t,[U.ElementRef,U.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),U["\u0275ted"](null,["Role"])),(l()(),U["\u0275ted"](null,["\n          "])),(l()(),U["\u0275eld"](0,null,null,3,"option",[["value","user"]],null,null,null,null,null)),U["\u0275did"](147456,null,0,_.m,[U.ElementRef,U.Renderer2,[2,_.o]],{value:[0,"value"]},null),U["\u0275did"](147456,null,0,_.t,[U.ElementRef,U.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),U["\u0275ted"](null,["User"])),(l()(),U["\u0275ted"](null,["\n          "])),(l()(),U["\u0275eld"](0,null,null,3,"option",[["value","admin"]],null,null,null,null,null)),U["\u0275did"](147456,null,0,_.m,[U.ElementRef,U.Renderer2,[2,_.o]],{value:[0,"value"]},null),U["\u0275did"](147456,null,0,_.t,[U.ElementRef,U.Renderer2,[8,null]],{value:[0,"value"]},null),(l()(),U["\u0275ted"](null,["Admin"])),(l()(),U["\u0275ted"](null,["\n        "])),(l()(),U["\u0275ted"](null,["\n      "])),(l()(),U["\u0275ted"](null,["\n      "])),(l()(),U["\u0275eld"](0,null,null,2,"button",[["class","btn btn-primary"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(l()(),U["\u0275eld"](0,null,null,0,"i",[["class","glyphicon glyphicon-plus"]],null,null,null,null,null)),(l()(),U["\u0275ted"](null,[" Register"])),(l()(),U["\u0275ted"](null,["\n    "])),(l()(),U["\u0275ted"](null,["\n  "])),(l()(),U["\u0275ted"](null,["\n"]))],function(l,n){var e=n.component;l(n,1,0,e.toast.message),l(n,12,0,e.registerForm);l(n,17,0,"input-group",e.setClassUsername());l(n,25,0,"username");l(n,31,0,"input-group",e.setClassEmail());l(n,39,0,"email");l(n,45,0,"input-group",e.setClassPassword());l(n,53,0,"password");l(n,66,0,"role");l(n,71,0,"");l(n,72,0,"");l(n,76,0,"user");l(n,77,0,"user");l(n,81,0,"admin");l(n,82,0,"admin")},function(l,n){var e=n.component;l(n,10,0,U["\u0275nov"](n,14).ngClassUntouched,U["\u0275nov"](n,14).ngClassTouched,U["\u0275nov"](n,14).ngClassPristine,U["\u0275nov"](n,14).ngClassDirty,U["\u0275nov"](n,14).ngClassValid,U["\u0275nov"](n,14).ngClassInvalid,U["\u0275nov"](n,14).ngClassPending),l(n,22,0,U["\u0275nov"](n,27).ngClassUntouched,U["\u0275nov"](n,27).ngClassTouched,U["\u0275nov"](n,27).ngClassPristine,U["\u0275nov"](n,27).ngClassDirty,U["\u0275nov"](n,27).ngClassValid,U["\u0275nov"](n,27).ngClassInvalid,U["\u0275nov"](n,27).ngClassPending),l(n,36,0,U["\u0275nov"](n,41).ngClassUntouched,U["\u0275nov"](n,41).ngClassTouched,U["\u0275nov"](n,41).ngClassPristine,U["\u0275nov"](n,41).ngClassDirty,U["\u0275nov"](n,41).ngClassValid,U["\u0275nov"](n,41).ngClassInvalid,U["\u0275nov"](n,41).ngClassPending),l(n,50,0,U["\u0275nov"](n,55).ngClassUntouched,U["\u0275nov"](n,55).ngClassTouched,U["\u0275nov"](n,55).ngClassPristine,U["\u0275nov"](n,55).ngClassDirty,U["\u0275nov"](n,55).ngClassValid,U["\u0275nov"](n,55).ngClassInvalid,U["\u0275nov"](n,55).ngClassPending),l(n,63,0,U["\u0275nov"](n,68).ngClassUntouched,U["\u0275nov"](n,68).ngClassTouched,U["\u0275nov"](n,68).ngClassPristine,U["\u0275nov"](n,68).ngClassDirty,U["\u0275nov"](n,68).ngClassValid,U["\u0275nov"](n,68).ngClassInvalid,U["\u0275nov"](n,68).ngClassPending),l(n,87,0,!e.registerForm.valid)})}function i(l){return U["\u0275vid"](0,[(l()(),U["\u0275eld"](0,null,null,1,"app-register",[],null,null,null,r,O)),U["\u0275did"](114688,null,0,T,[_.d,B.k,w,h],null,null)],function(l,n){l(n,1,0)},null)}function s(l){return M["\u0275vid"](0,[(l()(),M["\u0275eld"](0,null,null,17,"div",[["class","card"]],null,null,null,null,null)),(l()(),M["\u0275ted"](null,["\n  "])),(l()(),M["\u0275eld"](0,null,null,1,"h4",[["class","card-header"]],null,null,null,null,null)),(l()(),M["\u0275ted"](null,["404 Not Found"])),(l()(),M["\u0275ted"](null,["\n  "])),(l()(),M["\u0275eld"](0,null,null,11,"div",[["class","card-block"]],null,null,null,null,null)),(l()(),M["\u0275ted"](null,["\n    "])),(l()(),M["\u0275eld"](0,null,null,1,"p",[],null,null,null,null,null)),(l()(),M["\u0275ted"](null,["The page you requested was not found."])),(l()(),M["\u0275ted"](null,["\n    "])),(l()(),M["\u0275eld"](0,null,null,5,"p",[],null,null,null,null,null)),(l()(),M["\u0275ted"](null,["Go to "])),(l()(),M["\u0275eld"](0,null,null,2,"a",[["routerLink","/register"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;if("click"===n){u=!1!==M["\u0275nov"](l,13).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u}return u},null,null)),M["\u0275did"](671744,null,0,H.m,[H.k,H.a,V.g],{routerLink:[0,"routerLink"]},null),(l()(),M["\u0275ted"](null,["Homepage"])),(l()(),M["\u0275ted"](null,["."])),(l()(),M["\u0275ted"](null,["\n  "])),(l()(),M["\u0275ted"](null,["\n"]))],function(l,n){l(n,13,0,"/register")},function(l,n){l(n,12,0,M["\u0275nov"](n,13).target,M["\u0275nov"](n,13).href)})}function d(l){return M["\u0275vid"](0,[(l()(),M["\u0275eld"](0,null,null,1,"app-not-found",[],null,null,null,s,K)),M["\u0275did"](49152,null,0,D,[],null,null)],null,null)}function a(l){return X["\u0275vid"](0,[(l()(),X["\u0275eld"](0,null,null,7,"a",[["class","nav-item nav-link"],["routerLink","/register"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,e){var u=!0;if("click"===n){u=!1!==X["\u0275nov"](l,1).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u}return u},null,null)),X["\u0275did"](671744,[[2,4]],0,z.m,[z.k,z.a,W.g],{routerLink:[0,"routerLink"]},null),X["\u0275did"](1720320,null,2,z.l,[z.k,X.ElementRef,X.Renderer2,X.ChangeDetectorRef],{routerLinkActive:[0,"routerLinkActive"]},null),X["\u0275qud"](603979776,1,{links:1}),X["\u0275qud"](603979776,2,{linksWithHrefs:1}),(l()(),X["\u0275ted"](null,["\n        "])),(l()(),X["\u0275eld"](0,null,null,0,"i",[["class","fa fa-user-plus"]],null,null,null,null,null)),(l()(),X["\u0275ted"](null,[" Register\n      "]))],function(l,n){l(n,1,0,"/register");l(n,2,0,"active")},function(l,n){l(n,0,0,X["\u0275nov"](n,1).target,X["\u0275nov"](n,1).href)})}function p(l){return X["\u0275vid"](0,[(l()(),X["\u0275ted"](null,["\n"])),(l()(),X["\u0275eld"](0,null,null,4,"div",[["style","text-align:center"]],null,null,null,null,null)),(l()(),X["\u0275ted"](null,["\n  "])),(l()(),X["\u0275eld"](0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),X["\u0275ted"](null,["\n    Welcome to ","!\n  "])),(l()(),X["\u0275ted"](null,["\n"])),(l()(),X["\u0275ted"](null,["\n"])),(l()(),X["\u0275eld"](0,null,null,13,"div",[["class","container"]],null,null,null,null,null)),(l()(),X["\u0275ted"](null,["\n  "])),(l()(),X["\u0275eld"](0,null,null,7,"nav",[["class","navbar navbar-dark bg-primary"]],null,null,null,null,null)),(l()(),X["\u0275ted"](null,["\n    "])),(l()(),X["\u0275eld"](0,null,null,4,"div",[["class","nav navbar-nav"]],null,null,null,null,null)),(l()(),X["\u0275ted"](null,["\n      "])),(l()(),X["\u0275and"](16777216,null,null,1,null,a)),X["\u0275did"](16384,null,0,W.i,[X.ViewContainerRef,X.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),X["\u0275ted"](null,["\n    "])),(l()(),X["\u0275ted"](null,["\n  "])),(l()(),X["\u0275ted"](null,["\n  "])),(l()(),X["\u0275eld"](16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),X["\u0275did"](212992,null,0,z.o,[z.b,X.ViewContainerRef,X.ComponentFactoryResolver,[8,null],X.ChangeDetectorRef],null,null),(l()(),X["\u0275ted"](null,["\n"])),(l()(),X["\u0275ted"](null,["\n"]))],function(l,n){l(n,14,0,!n.component.auth.loggedIn),l(n,19,0)},function(l,n){l(n,4,0,n.component.title)})}function c(l){return X["\u0275vid"](0,[(l()(),X["\u0275eld"](0,null,null,1,"app-root",[],null,null,null,p,Q)),X["\u0275did"](49152,null,0,k,[b],null,null)],null,null)}Object.defineProperty(n,"__esModule",{value:!0});var m={production:!0},g=function(){function l(){}return l}(),f=e("CPp0"),v=e("5v8a"),h=(e.n(v),function(){function l(l){this.http=l,this.headers=new f.Headers({"Content-Type":"application/json",charset:"UTF-8"}),this.options=new f.RequestOptions({headers:this.headers})}return l.prototype.register=function(l){return this.http.post("/api/user",JSON.stringify(l),this.options)},l.prototype.login=function(l){return this.http.post("/api/login",JSON.stringify(l),this.options)},l.prototype.getUsers=function(){return this.http.get("/api/users").map(function(l){return l.json()})},l.prototype.countUsers=function(){return this.http.get("/api/users/count").map(function(l){return l.json()})},l.prototype.addUser=function(l){return this.http.post("/api/user",JSON.stringify(l),this.options)},l.prototype.getUser=function(l){return this.http.get("/api/user/"+l._id).map(function(l){return l.json()})},l.prototype.editUser=function(l){return this.http.put("/api/user/"+l._id,JSON.stringify(l),this.options)},l.prototype.deleteUser=function(l){return this.http.delete("/api/user/"+l._id,this.options)},l.ctorParameters=function(){return[{type:f.Http}]},l}()),y=e("BkNc"),C=e("W4CS"),b=(e.n(C),function(){function l(l,n){this.userService=l,this.router=n,this.loggedIn=!1,this.isAdmin=!1,this.jwtHelper=new C.JwtHelper,this.currentUser={_id:"",username:"",role:""};var e=localStorage.getItem("token");if(e){var u=this.decodeUserFromToken(e);this.setCurrentUser(u)}}return l.prototype.login=function(l){var n=this;return this.userService.login(l).map(function(l){return l.json()}).map(function(l){localStorage.setItem("token",l.token);var e=n.decodeUserFromToken(l.token);return n.setCurrentUser(e),n.loggedIn})},l.prototype.logout=function(){localStorage.removeItem("token"),this.loggedIn=!1,this.isAdmin=!1,this.currentUser={_id:"",username:"",role:""},this.router.navigate(["/"])},l.prototype.decodeUserFromToken=function(l){return this.jwtHelper.decodeToken(l).user},l.prototype.setCurrentUser=function(l){this.loggedIn=!0,this.currentUser._id=l._id,this.currentUser.username=l.username,this.currentUser.role=l.role,"admin"===l.role?this.isAdmin=!0:this.isAdmin=!1,delete l.role},l.ctorParameters=function(){return[{type:h},{type:y.k}]},l}()),k=function(){function l(l){this.auth=l,this.title="Web Academics"}return l.ctorParameters=function(){return[{type:b}]},l}(),R=[""],I=[".alert[_ngcontent-%COMP%]{z-index:999;position:fixed;bottom:15px;left:25%;width:50%;opacity:.9}"],w=function(){function l(){this.message={body:"",type:""}}return l.prototype.setMessage=function(l,n,e){var u=this;void 0===e&&(e=3e3),this.message.body=l,this.message.type=n,setTimeout(function(){u.message.body=""},e)},l}(),P=e("/oeL"),L=e("qbdv"),N=[I],S=P["\u0275crt"]({encapsulation:0,styles:N,data:{}}),A=(P["\u0275ccf"]("app-toast",w,o,{message:"message"},{},[]),e("BkNc")),E=e("bm2B"),T=function(){function l(l,n,e,u){this.formBuilder=l,this.router=n,this.toast=e,this.userService=u,this.username=new E.e("",[E.p.required,E.p.minLength(2),E.p.maxLength(30),E.p.pattern("[a-zA-Z0-9_-\\s]*")]),this.email=new E.e("",[E.p.required,E.p.minLength(3),E.p.maxLength(100)]),this.password=new E.e("",[E.p.required,E.p.minLength(6)]),this.role=new E.e("",[E.p.required])}return l.prototype.ngOnInit=function(){this.registerForm=this.formBuilder.group({username:this.username,email:this.email,password:this.password,role:this.role})},l.prototype.setClassUsername=function(){return{"has-danger":!this.username.pristine&&!this.username.valid}},l.prototype.setClassEmail=function(){return{"has-danger":!this.email.pristine&&!this.email.valid}},l.prototype.setClassPassword=function(){return{"has-danger":!this.password.pristine&&!this.password.valid}},l.prototype.register=function(){var l=this;this.userService.register(this.registerForm.value).subscribe(function(n){l.toast.setMessage("you successfully registered!","success"),l.router.navigate(["/register"])},function(n){return l.toast.setMessage("email already exists","danger")})},l.ctorParameters=function(){return[{type:E.d},{type:A.k},{type:w},{type:h}]},l}(),U=e("/oeL"),_=e("bm2B"),j=e("qbdv"),B=e("BkNc"),F=[R],O=U["\u0275crt"]({encapsulation:0,styles:F,data:{}}),q=U["\u0275ccf"]("app-register",T,i,{},{},[]),D=function(){function l(){}return l.ctorParameters=function(){return[]},l}(),M=e("/oeL"),H=e("BkNc"),V=e("qbdv"),x=[],K=M["\u0275crt"]({encapsulation:2,styles:x,data:{}}),Z=M["\u0275ccf"]("app-not-found",D,d,{},{},[]),J=[""],X=e("/oeL"),z=e("BkNc"),W=e("qbdv"),G=[J],Q=X["\u0275crt"]({encapsulation:0,styles:G,data:{}}),Y=X["\u0275ccf"]("app-root",k,c,{},{},[]),$=e("BkNc"),ll=function(){function l(l,n){this.auth=l,this.router=n}return l.prototype.canActivate=function(){return this.auth.loggedIn},l.ctorParameters=function(){return[{type:b},{type:$.k}]},l}(),nl=e("BkNc"),el=function(){function l(l,n){this.auth=l,this.router=n}return l.prototype.canActivate=function(){return this.auth.isAdmin},l.ctorParameters=function(){return[{type:b},{type:nl.k}]},l}(),ul=function(){function l(){}return l}(),tl=function(){function l(){}return l}(),ol=e("/oeL"),rl=e("qbdv"),il=e("fc+i"),sl=e("f9zQ"),dl=e("fL27"),al=e("EyWH"),pl=e("BkNc"),cl=e("bm2B"),ml=e("CPp0"),gl=ol["\u0275cmf"](g,[k],function(l){return ol["\u0275mod"]([ol["\u0275mpd"](512,ol.ComponentFactoryResolver,ol["\u0275CodegenComponentFactoryResolver"],[[8,[q,Z,Y]],[3,ol.ComponentFactoryResolver],ol.NgModuleRef]),ol["\u0275mpd"](5120,ol.LOCALE_ID,ol["\u0275m"],[[3,ol.LOCALE_ID]]),ol["\u0275mpd"](4608,rl.k,rl.j,[ol.LOCALE_ID]),ol["\u0275mpd"](5120,ol.APP_ID,ol["\u0275f"],[]),ol["\u0275mpd"](5120,ol.IterableDiffers,ol["\u0275k"],[]),ol["\u0275mpd"](5120,ol.KeyValueDiffers,ol["\u0275l"],[]),ol["\u0275mpd"](4608,il.c,il.t,[rl.c]),ol["\u0275mpd"](6144,ol.Sanitizer,null,[il.c]),ol["\u0275mpd"](4608,il.f,il.g,[]),ol["\u0275mpd"](5120,il.d,function(l,n,e,u){return[new il.l(l),new il.p(n),new il.o(e,u)]},[rl.c,rl.c,rl.c,il.f]),ol["\u0275mpd"](4608,il.e,il.e,[il.d,ol.NgZone]),ol["\u0275mpd"](135680,il.n,il.n,[rl.c]),ol["\u0275mpd"](4608,il.m,il.m,[il.e,il.n]),ol["\u0275mpd"](5120,sl.a,dl.d,[]),ol["\u0275mpd"](5120,sl.c,dl.e,[]),ol["\u0275mpd"](4608,sl.b,dl.c,[sl.a,sl.c]),ol["\u0275mpd"](5120,ol.RendererFactory2,dl.f,[il.m,sl.b,ol.NgZone]),ol["\u0275mpd"](6144,il.q,null,[il.n]),ol["\u0275mpd"](4608,ol.Testability,ol.Testability,[ol.NgZone]),ol["\u0275mpd"](4608,il.h,il.h,[rl.c]),ol["\u0275mpd"](4608,il.j,il.j,[rl.c]),ol["\u0275mpd"](4608,al.b,dl.b,[ol.RendererFactory2,il.b]),ol["\u0275mpd"](5120,pl.a,pl.x,[pl.k]),ol["\u0275mpd"](4608,pl.d,pl.d,[]),ol["\u0275mpd"](6144,pl.f,null,[pl.d]),ol["\u0275mpd"](135680,pl.p,pl.p,[pl.k,ol.NgModuleFactoryLoader,ol.Compiler,ol.Injector,pl.f]),ol["\u0275mpd"](4608,pl.e,pl.e,[]),ol["\u0275mpd"](5120,pl.h,pl.A,[pl.y]),ol["\u0275mpd"](5120,ol.APP_BOOTSTRAP_LISTENER,function(l){return[l]},[pl.h]),ol["\u0275mpd"](4608,cl.s,cl.s,[]),ol["\u0275mpd"](4608,cl.d,cl.d,[]),ol["\u0275mpd"](4608,ml.BrowserXhr,ml.BrowserXhr,[]),ol["\u0275mpd"](4608,ml.ResponseOptions,ml.BaseResponseOptions,[]),ol["\u0275mpd"](5120,ml.XSRFStrategy,ml["\u0275b"],[]),ol["\u0275mpd"](4608,ml.XHRBackend,ml.XHRBackend,[ml.BrowserXhr,ml.ResponseOptions,ml.XSRFStrategy]),ol["\u0275mpd"](4608,ml.RequestOptions,ml.BaseRequestOptions,[]),ol["\u0275mpd"](5120,ml.Http,ml["\u0275c"],[ml.XHRBackend,ml.RequestOptions]),ol["\u0275mpd"](4608,w,w,[]),ol["\u0275mpd"](4608,h,h,[ml.Http]),ol["\u0275mpd"](4608,b,b,[h,pl.k]),ol["\u0275mpd"](4608,ll,ll,[b,pl.k]),ol["\u0275mpd"](4608,el,el,[b,pl.k]),ol["\u0275mpd"](512,rl.b,rl.b,[]),ol["\u0275mpd"](1024,ol.ErrorHandler,il.r,[]),ol["\u0275mpd"](1024,ol.NgProbeToken,function(){return[pl.t()]},[]),ol["\u0275mpd"](512,pl.y,pl.y,[ol.Injector]),ol["\u0275mpd"](1024,ol.APP_INITIALIZER,function(l,n,e){return[il.s(l,n),pl.z(e)]},[[2,il.i],[2,ol.NgProbeToken],pl.y]),ol["\u0275mpd"](512,ol.ApplicationInitStatus,ol.ApplicationInitStatus,[[2,ol.APP_INITIALIZER]]),ol["\u0275mpd"](131584,ol["\u0275e"],ol["\u0275e"],[ol.NgZone,ol["\u0275Console"],ol.Injector,ol.ErrorHandler,ol.ComponentFactoryResolver,ol.ApplicationInitStatus]),ol["\u0275mpd"](2048,ol.ApplicationRef,null,[ol["\u0275e"]]),ol["\u0275mpd"](512,ol.ApplicationModule,ol.ApplicationModule,[ol.ApplicationRef]),ol["\u0275mpd"](512,il.a,il.a,[[3,il.a]]),ol["\u0275mpd"](512,dl.a,dl.a,[]),ol["\u0275mpd"](1024,pl.s,pl.v,[[3,pl.k]]),ol["\u0275mpd"](512,pl.r,pl.c,[]),ol["\u0275mpd"](512,pl.b,pl.b,[]),ol["\u0275mpd"](256,pl.g,{},[]),ol["\u0275mpd"](1024,rl.g,pl.u,[rl.m,[2,rl.a],pl.g]),ol["\u0275mpd"](512,rl.f,rl.f,[rl.g]),ol["\u0275mpd"](512,ol.Compiler,ol.Compiler,[]),ol["\u0275mpd"](512,ol.NgModuleFactoryLoader,ol.SystemJsNgModuleLoader,[ol.Compiler,[2,ol.SystemJsNgModuleLoaderConfig]]),ol["\u0275mpd"](1024,pl.i,function(){return[[{path:"register",component:T},{path:"notfound",component:D},{path:"**",redirectTo:"/notfound"}]]},[]),ol["\u0275mpd"](1024,pl.k,pl.w,[ol.ApplicationRef,pl.r,pl.b,rl.f,ol.Injector,ol.NgModuleFactoryLoader,ol.Compiler,pl.i,pl.g,[2,pl.q],[2,pl.j]]),ol["\u0275mpd"](512,pl.n,pl.n,[[2,pl.s],[2,pl.k]]),ol["\u0275mpd"](512,ul,ul,[]),ol["\u0275mpd"](512,cl.q,cl.q,[]),ol["\u0275mpd"](512,cl.h,cl.h,[]),ol["\u0275mpd"](512,cl.n,cl.n,[]),ol["\u0275mpd"](512,ml.HttpModule,ml.HttpModule,[]),ol["\u0275mpd"](512,tl,tl,[]),ol["\u0275mpd"](512,g,g,[])])}),fl=e("/oeL"),vl=e("rgUS"),hl=(e.n(vl),e("fc+i"));m.production&&Object(fl.enableProdMode)(),Object(hl.k)().bootstrapModuleFactory(gl)}},[0]);